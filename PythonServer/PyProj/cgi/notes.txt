####################################################################
# РЕАЛИЗАЦИЯ ТЕМЫ ВОПРОС 23: CGI: налаштування сервера для запуску Python-скриптів, вимоги до скриптів
# РЕАЛИЗАЦИЯ ТЕМЫ ВОПРОС 29: CGI: локальний хостинг і кілька сайтів на одному сервері
# РЕАЛИЗАЦИЯ ТЕМЫ ВОПРОС 30: CGI: отримання інформації про помилки виконання
# РЕАЛИЗАЦИЯ ТЕМЫ ВОПРОС 41: CGI: тестування API-бекенду — способи, переваги, недоліки
####################################################################

# КЛЮЧЕВЫЕ МОМЕНТЫ ПО ТЕМАМ (КАПСОМ ДЛЯ БЫСТРОГО ПОИСКА):
# - ВОПРОС 23: AddHandler/DirectoryIndex — НАСТРОЙКИ CGI ДЛЯ PYTHON-СКРИПТОВ.
# - ВОПРОС 29: ПРИМЕР VirtualHost ПОКАЗЫВАЕТ КАК ОДИН APACHE ОБСЛУЖИВАЕТ НЕСКОЛЬКО САЙТОВ.
# - ВОПРОС 30: ЛОГИ ERROR/ACCESS ПОКАЗЫВАЮТ, ГДЕ ИСКАТЬ ОШИБКИ CGI.
# - ВОПРОС 41: ЛОГИ И НАСТРОЙКИ ХОСТИНГА ВАЖНЫ ДЛЯ ТЕСТИРОВАНИЯ API.
#


<VirtualHost *:80>
    # Віртуальний хост: дозволяє одному Apache обслуговувати кілька сайтів.
    # Для кожного сайту задається свій ServerName/DocumentRoot.
    ServerAdmin webmaster@dummy-host.example.com
    DocumentRoot "C:/Users/morri/OneDrive/Рабочий стол/Программирование/python/cgi"
    ServerName cgi221.loc
    ServerAlias www.cgi221.loc
    # Логи: важливі для діагностики помилок CGI-скриптів.
    ErrorLog "C:/Users/morri/OneDrive/Рабочий стол/Программирование/python/cgi/logs/error.log"
    CustomLog "C:/Users/morri/OneDrive/Рабочий стол/Программирование/python/cgi/logs/access.log" common
    <Directory "C:/Users/morri/OneDrive/Рабочий стол/Программирование/python/cgi">
	    # AllowOverride All: дозволяє .htaccess керувати правилами (rewrite, CGI).
	    AllowOverride All
	    # ExecCGI: дозволяє запуск Python-скриптів як CGI.
	    # -Indexes: забороняє лістинг файлів у директорії.
	    Options -Indexes +ExecCGI
	    # Вказуємо, що .py файли треба запускати як CGI-скрипти.
	    AddHandler cgi-script .py
	    # Доступ дозволено всім (локальний хостинг для навчання).
	    Require all granted
        # Індексні файли: спершу index.py, потім index.html.
        DirectoryIndex index.py index.html
    </Directory>
</VirtualHost>
