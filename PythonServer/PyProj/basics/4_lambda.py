####################################################################
# РЕАЛИЗАЦИЯ ТЕМЫ ВОПРОС 01: Загальна характеристика мови програмування Python
# РЕАЛИЗАЦИЯ ТЕМЫ ВОПРОС 07: Області видимості змінних: локальні, глобальні, лексичний окіл (capture)
# РЕАЛИЗАЦИЯ ТЕМЫ ВОПРОС 08: Lambda у Python: переваги, недоліки, використання
####################################################################

# КЛЮЧЕВЫЕ МОМЕНТЫ ПО ТЕМАМ (КАПСОМ ДЛЯ БЫСТРОГО ПОИСКА):
# - ВОПРОС 01: ФУНКЦИОНАЛЬНЫЙ СТИЛЬ PYTHON ПОКАЗАН ЧЕРЕЗ LAMBDA И ВЫЗОВЫ С ФУНКЦИЯМИ.
# - ВОПРОС 07: ПЕРЕМЕННЫЕ И ЗАМЫКАНИЯ ПОКАЗЫВАЮТ ЛЕКСИЧЕСКИЙ ОКРУГ И CAPTURE.
# - ВОПРОС 08: LAMBDA-ВЫРАЖЕНИЯ ИСПОЛЬЗУЮТСЯ ДЛЯ КОРОТКИХ ФУНКЦИЙ (НАПР. СОРТИРОВКА/ФИЛЬТРАЦИЯ).
#


# Глобальна змінна модуля, доступна для лямбда-виразів.
y = 10
# Глобальне посилання на лямбда-функцію (створюється пізніше).
lamg1 = None

# Функція, яка створює лямбда-вираз із захопленням змінних (closure).
def init_lamg1() -> None:
    global lamg1  # Пояснюємо, що будемо змінювати глобальне посилання.
    w = 30        # Локальна змінна, буде захоплена лямбдою.
    # Лямбда має доступ до y (глобальна) і w (локальна) через лексичне оточення.
    lamg1 = lambda x: print("x=%d, y=%d, w=%d" % (x, y, w))


def main():
    # Лямбда з одним параметром.
    lam1 = lambda x: print(x)
    lam1("Hello from lambda")
    # Лямбда з двома параметрами.
    lam2 = lambda x, y: print(x, y)
    lam2(5, 10)
    # Лямбда без параметрів.
    lam3 = lambda: print("No parameters")
    lam3()
    # Негайний виклик лямбда-виразу.
    (lambda x, y: print("Sum is", x + y))(3, 7)

    # Приклад лямбди із захопленням змінних.
    init_lamg1()
    lamg1(100)


if __name__ == "__main__" :
    main()
